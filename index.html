<!doctype html>
<html>
   <head>
       <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />
       <style>
           body {
               background-color: #566C7F;
           }
           h1 {
               font-family:Helvetica;
               font-weight:300;
               font-size:3em;
               color:#9BC2E5;
           }
           .scroll-box {
                border: 1px solid #566C7F;
                height: 400px;
                overflow: auto;
               padding:10px;
               background-color:#566C7F;

            }
           div.item.well{
               
                background-color:#2B3640 !important;
                border: 1px solid #2B3640;
            }
           .title {
               font-size: 1.5em;
               font-family:"Helvetica", "Segoe UI", sans-serif;
               font-weight:300;
               color: #ACD7FF;
           }
           .published {
               font-size: .825em;
               font-family:"Helvetica", "Segoe UI", sans-serif;
               color: #81A1BF;
           }
           .footer-links {
               color:lightgrey;
               font-size:.750em;
           }
           .footer-links a {
               color:#EDEDED;
           }
       </style>
       <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.1/angular.min.js"></script>
       <script type="text/javascript">


var app = angular.module('App', ['angular-whenScrolled']);
app.controller('scrollBoxController',function($scope,$http){
    
    $scope.items = [];
    $scope.counter = 0;
    $scope.loadMore = function(){
        if (!$scope.stopLoadingData) {
            $scope.loading = true;
        $http.get("http://www.stellarbiotechnologies.com/media/press-releases/json?limit=5&offset=" + $scope.counter + "").
        success(function(result){
            for(var i = 0;i<result.news.length;i++){
                item = result.news[i];
                $scope.items.push(item);
            }
        });
        }
        $scope.loading = false;
        $scope.counter += 5;
    }
    $scope.loadMore();
});
// from https://github.com/juanxme/angular-whenScrolled
var mod;
mod = angular.module('angular-whenScrolled', []);
mod.directive("whenScrolled", function ($window) {
    return{
        restrict: 'A',
        link: function (scope, elem, attrs) {
            raw = elem[0];
            var checkBounds = function (evt) {
                var rectObject = raw.getBoundingClientRect();
                if ($window.innerHeight >rectObject.bottom+100) {
                    scope.loading = true;
                    scope.$apply(attrs.whenScrolled);
                }
            };
            angular.element($window).bind('scroll load', checkBounds);
        }
    };
});


       </script>
   </head> 
   <body ng-app="App">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <h1 class="text-center">Angular Infinite Scroll Demo</h1>
                 <div ng-controller="scrollBoxController" when-scrolled="loadMore()" class="scroll-box">
                    <div ng-repeat="item in items" class="item well">
                      <em class="published">{{item.published}}</em><br />
                      <span class="title">{{item.title}}</span>
                    </div>
                  <div ng-show='loading'>Loading Data ...</div>
              </div>
             </div>
         </div>
         <footer>
            <div class="row">
                <div class="col-md-6 col-md-offset-3 text-center">
                    <span class="footer-links">
                        <a href="https://github.com/semperfried76/angular-inline-scroll-demo" target="_blank">Source Code Here</a>&nbsp;|&nbsp;Big thanks to juanxme for <a href="https://github.com/juanxme/angular-whenScrolled" target="_blank">angular-whenScrolled</a>
                    </span>
                </div>
            </div>
             
         </footer>
    </div>
     
      
     
   </body>
</html>